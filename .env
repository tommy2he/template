# ========== 应用配置 ==========
NODE_ENV=development
PORT=3000
APP_NAME=Koa Template App
APP_URL=http://localhost:3000

# ========== WebSocket配置 ==========
WS_PORT=7547
WS_URL=ws://localhost:7547
UDP_PORT=7548

# ========== 日志配置 ==========
LOG_LEVEL=debug
LOG_FORMAT=dev

# ========== API配置 ==========
API_PREFIX=/api
API_VERSION=v1
API_TIMEOUT=30000

# ========== CORS配置 ==========
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ========== 数据库配置 ==========
# MONGODB_URI=mongodb://koa_user:koa_password@localhost:27017/koa_template_dev
MONGODB_URI=mongodb://koa_user:koa_password@localhost:27017/koa_template_dev?authSource=koa_template_dev&directConnection=true&serverSelectionTimeoutMS=5000
MONGODB_ADMIN_URI=mongodb://admin:secret@localhost:27017/admin

# 连接池配置
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_SOCKET_TIMEOUT_MS=45000
MONGODB_CONNECT_TIMEOUT_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

# 重试配置
MONGODB_RETRY_WRITES=true
MONGODB_RETRY_READS=true
MONGODB_MAX_RETRY_ATTEMPTS=3

# 数据目录（注意Windows路径）
MONGODB_DATA_DIR=D:/docker/mongodb/data
MONGODB_BACKUP_DIR=./db/backups
PROJECT_ROOT=./

# ========== 安全配置 ==========
JWT_SECRET=dev_secret_key_change_in_production
JWT_EXPIRES_IN=7d

# ========== 开发工具配置 ==========
ENABLE_SWAGGER=true
DEBUG=true

# ========== 1.3版本新增配置 ==========
# 速率限制配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# 压缩配置
COMPRESSION_ENABLED=true
COMPRESSION_THRESHOLD=1024

# 安全配置
SECURITY_ENABLED=true
#CSP_ENABLED=true
CSP_ENABLED=false
HSTS_ENABLED=true

# Swagger配置
SWAGGER_ENABLED=true
SWAGGER_TITLE=Koa Template App API
SWAGGER_DESCRIPTION=Koa模板应用的API文档
SWAGGER_VERSION=1.0.0

# ========== 性能监控 ==========
PERFORMANCE_MONITORING=true
PERFORMANCE_SAMPLE_RATE=1.0
PERFORMANCE_RETENTION_DAYS=7
PERFORMANCE_ENDPOINTS=/,/api,/api/health,/api/performance

# ========== 2.0版本新增配置 ==========
# 在线状态计算配置
CPE_ONLINE_TIMEOUT=600000         # 30分钟在线超时（可设为300000=5分钟测试）
CPE_STATUS_REFRESH_MODE=manual    # 状态刷新模式：manual（手动）/timed（定时）
CPE_BOOT_THRESHOLD=300000         # 5分钟内重复Inform视为同一次启动
CPE_REFRESH_BATCH_SIZE=100        # 状态刷新批量大小（调试时可设为5）

# 流量统计配置
CPE_TRAFFIC_HISTORY_SIZE=100      # 保留的流量记录条数
CPE_HEARTBEAT_MIN_INTERVAL=10     # 最短心跳间隔（秒），防止恶意频繁心跳
