<!-- åˆ›å»º public/simple-test.html -->
<!doctype html>
<html>
  <head>
    <title>ACS ç®€å•æµ‹è¯•</title>
  </head>
  <body>
    <h1>ACS æœåŠ¡å™¨æµ‹è¯•</h1>
    <div id="result">ç­‰å¾…æµ‹è¯•...</div>

    <script>
      console.log('âœ… è„šæœ¬å¼€å§‹æ‰§è¡Œ');

      // æµ‹è¯•1: åŸºç¡€JavaScript
      document.getElementById('result').textContent = 'JavaScriptå·²æ‰§è¡Œ âœ“';

      // æµ‹è¯•2: å¼‚æ­¥è·å–æ•°æ®
      async function testFetch() {
        console.log('ğŸ”„ å¼€å§‹æµ‹è¯•fetch');
        try {
          const response = await fetch('/api/health');
          const data = await response.json();
          console.log('âœ… APIå“åº”:', data);
          document.getElementById('result').innerHTML +=
            '<br>APIè¿æ¥æˆåŠŸ âœ“ (' + data.status + ')';

          // æµ‹è¯•CPEç»Ÿè®¡
          const statsResponse = await fetch('/api/cpes/stats');
          const statsData = await statsResponse.json();
          console.log('ğŸ“Š CPEç»Ÿè®¡:', statsData);
          document.getElementById('result').innerHTML +=
            '<br>CPEç»Ÿè®¡: ' + statsData.data.total + 'å°è®¾å¤‡ âœ“';
        } catch (error) {
          console.error('âŒ è¯·æ±‚å¤±è´¥:', error);
          document.getElementById('result').innerHTML +=
            '<br><span style="color:red">é”™è¯¯: ' + error.message + '</span>';
        }
      }

      // é¡µé¢åŠ è½½åæ‰§è¡Œæµ‹è¯•
      setTimeout(testFetch, 100);
    </script>
  </body>
</html>
